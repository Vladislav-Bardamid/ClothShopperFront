<button
  class="btn btn-dark cloth-card d-flex align-items-stretch text-start w-100 h-100 p-0 text-nowrap overflow-hidden"
  (click)="setActive()"
  [ngClass]="{ active: item.active, 'flex-column': type == 0 }"
>
  <div
    class="text-center overflow-hidden bg-black position-relative image-container"
    [ngClass]="{
      'flex-fill': type == 0,
      'medium-type-preview flex-shrink-0': type == 1
    }"
    *ngIf="type != 2"
  >
    <mat-icon
      *ngIf="item.scrap"
      class="position-absolute text-warning h-auto w-auto"
      [ngClass]="{ 'fs-3': type == 0 }"
      style="top: 0.5rem; right: 0.5rem; z-index: 1"
      [matTooltip]="item.scrap"
      matTooltipClass="card-tooltip"
      >warning</mat-icon
    >
    <img [src]="item.urlSm" class="h-100" />
  </div>
  <div
    class="p-2"
    [ngClass]="{ 'flex-fill overflow-hidden': type == 1 || type == 2 }"
    [ngSwitch]="type"
  >
    <div
      *ngSwitchCase="2"
      class="overflow-hidden ellipsis d-flex"
      style="vertical-align: middle"
    >
      <div
        class="flex-fill overflow-hidden ellipsis"
        matTooltip="{{ this.item.title }} {{ this.item.width }} / {{
          this.item.height
        }} : {{ this.item.price }}"
        matTooltipClass="card-tooltip"
      >
        {{ this.item.title }} {{ this.item.width }} / {{ this.item.height }} :
        {{ this.item.price }}
      </div>
      <mat-icon
        *ngIf="item.scrap"
        class="text-warning flex-shrink-0"
        [matTooltip]="item.scrap"
        matTooltipClass="card-tooltip"
        >warning</mat-icon
      >
    </div>
    <div
      *ngSwitchDefault
      class="d-flex flex-column justify-content-between overflow-hidden"
      [ngClass]="{ 'flex-fill ms-2': type == 1 }"
    >
      <div
        class="overflow-hidden ellipsis"
        style="font-weight: 500"
        [matTooltip]="item.title"
        matTooltipClass="card-tooltip"
      >
        {{ item.title }}
      </div>
      <div
        class="d-flex justify-content-between"
        [ngClass]="{ 'align-items-end': type == 0, 'flex-column': type == 1 }"
      >
        <div class="flex-fill" style="color: #aaa">
          <div>Ширина: {{ item.width }} см.</div>
          <div>Длина: {{ item.height }} см.</div>
        </div>
        <div class="fs-3">{{ item.price }} {{ currency }}.</div>
      </div>
    </div>
  </div>
</button>
