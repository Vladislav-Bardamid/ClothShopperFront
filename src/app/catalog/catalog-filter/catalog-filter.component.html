<div class="row mx-auto container pb-3">
  <form
    [formGroup]="filterForm"
    novalidate
    class="col row flex-column flex-md-row"
  >
    <div class="col">
      <mat-form-field
        appearance="outline"
        subscriptSizing="dynamic"
        class="w-100 fs-5"
      >
        <mat-label>Введите фильтр для поиска</mat-label>
        <input matInput formControlName="text" type="text" />
        <button
          *ngIf="filterForm.value.text"
          matSuffix
          mat-icon-button
          (click)="this.filterForm.controls.text.setValue('')"
        >
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
    </div>
    <div class="col-auto" style="width: 12em">
      <mat-form-field
        appearance="outline"
        subscriptSizing="dynamic"
        class="w-100 fs-5"
      >
        <mat-label>Мин. цена</mat-label>
        <input matInput formControlName="minPrice" type="number" min="0" />
      </mat-form-field>
    </div>
    <div class="col-auto" style="width: 12em">
      <mat-form-field
        appearance="outline"
        subscriptSizing="dynamic"
        class="w-100 fs-5"
      >
        <mat-label>Макс. цена</mat-label>
        <input matInput formControlName="maxPrice" type="number" min="0" />
      </mat-form-field>
    </div>
    <div class="col-auto">
      <mat-form-field
        appearance="outline"
        subscriptSizing="dynamic"
        class="w-100"
      >
        <mat-label>Сортировка</mat-label>
        <mat-select formControlName="sortType">
          <mat-option [value]="0">От новых к старым</mat-option>
          <mat-option [value]="1">От старых к новым</mat-option>
          <mat-option [value]="2">По названию</mat-option>
          <mat-option [value]="3">От дешевых к дорогим</mat-option>
          <mat-option [value]="4">От дорогих к дешевым</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </form>
  <div class="col-auto row align-items-md-center">
    <div class="col-auto">
      <mat-button-toggle-group
        [value]="type"
        [(ngModel)]="_type"
        (ngModelChange)="type = _type"
      >
        <mat-button-toggle [value]="0" matTooltip="Большие"
          ><mat-icon>grid_view</mat-icon></mat-button-toggle
        >
        <mat-button-toggle [value]="1" matTooltip="Средние"
          ><mat-icon>splitscreen</mat-icon></mat-button-toggle
        >
        <mat-button-toggle [value]="2" matTooltip="Малые"
          ><mat-icon>view_headline</mat-icon></mat-button-toggle
        >
      </mat-button-toggle-group>
    </div>
    <div class="col-auto">
      <button
        mat-icon-button
        (click)="resetFilters()"
        matTooltip="Сбросить фильтры"
      >
        <mat-icon>filter_alt_off</mat-icon>
      </button>
    </div>
    <div class="col-auto">
      <button
        mat-icon-button
        (click)="onClear.emit()"
        matTooltip="Сбросить выделенные товары"
      >
        <mat-icon>layers_clear</mat-icon>
      </button>
    </div>
    <div class="col-auto">
      <button
        mat-icon-button
        matTooltip="Обновить"
      >
        <mat-icon>update</mat-icon>
      </button>
    </div>
    <div class="col-auto position-absolute" style="right: 1rem">
      <mat-spinner
        [hidden]="!filterTimer"
        [diameter]="30"
        [value]="filterTimer"
        mode="determinate"
        color="accent"
      >
      </mat-spinner>
    </div>
  </div>
</div>
