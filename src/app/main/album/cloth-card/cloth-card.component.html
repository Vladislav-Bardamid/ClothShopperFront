<button
  card
  class="flex items-stretch w-full h-full text-left overflow-hidden !p-0"
  (click)="processClick()"
  [ngClass]="{
    'bg-slate-800 hover:!bg-slate-700': item.isActive,
    'dark:bg-primary-dark hover:!bg-neutral-800': !item.isActive,
    'flex-col': type != 1
  }"
>
  <div
    class="aspect-[4/3] bg-black relative"
    [ngClass]="{
      grow: type == 0,
      'shrink-0 max-h-full': type == 1
    }"
    *ngIf="type != 2"
    (mouseover)="onImageContainerMouseOver()"
    (mouseleave)="onImageContainerMouseLeave()"
  >
    <img
      [src]="item.urlSm"
      (error)="onImageError(image)"
      class="max-h-full max-w-full min-h-full h-0 mx-auto"
      #image
    />
    <button
      *ngIf="item.scrap"
      class="absolute text-yellow-400 top-2 right-2"
      [ngClass]="{ 'text-2xl': type == 0 }"
      [title]="item.scrap"
    >
      <span class="block material-icons">warning</span>
    </button>
    <button
      class="absolute top-2 left-2"
      [hidden]="!showZoomButton || errorImageLoading"
      [ngClass]="{ 'text-2xl': type == 0 }"
      (mouseover)="onZoomMouseOver()"
      (mouseleave)="onZoomMouseLeave()"
    >
      <span class="block material-icons">zoom_in</span>
    </button>
  </div>
  <div
    class="p-2 flex flex-col justify-between overflow-hidden"
    [class.pl-3]="type == 1"
  >
    <div class="flex">
      <div
        class="overflow-hidden font-medium text-ellipsis whitespace-nowrap grow"
        [title]="item.title"
        #title
      >
        {{ item.title }}&nbsp;
      </div>
      <span
        class="material-icons top-2 right-2 text-yellow-400 shrink-0"
        *ngIf="item.scrap"
        [hidden]="type != 2"
        [title]="item.scrap"
        >warning</span
      >
    </div>
    <div
      class="flex justify-between whitespace-nowrap"
      [ngClass]="{
        'items-end': type == 0 || type == 2,
        'flex-col': type == 1
      }"
    >
      <div class="overflow-hidden grow" style="color: #aaa">
        <div class="overflow-hidden text-ellipsis">
          Ширина: <span title="{{ item.width }} см.">{{ item.width }} см.</span>
        </div>
        <div class="overflow-hidden text-ellipsis">
          Длина:
          <span title="{{ item.height }} см.">{{ item.height }} см.</span>
        </div>
      </div>
      <div class="text-2xl" [class.ml-1]="type != 1">
        {{ item.price }} {{ currency }}.
      </div>
    </div>
  </div>
</button>
